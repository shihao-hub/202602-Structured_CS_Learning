# 操作系统学习计划

> 408中操作系统约占 35分，概念性强但也有计算题

## 考试范围与分值分布

| 章节 | 内容 | 预估分值 | 难度 |
|------|------|----------|------|
| 第1章 | 操作系统概述 | 2-4分 | 简单 |
| 第2章 | 进程管理 | 10-14分 | 较难 |
| 第3章 | 内存管理 | 8-12分 | 较难 |
| 第4章 | 文件管理 | 6-8分 | 中等 |
| 第5章 | I/O管理 | 4-6分 | 中等 |

## 学习阶段规划

### 基础阶段（3月 - 4月）

**目标**：理解OS核心概念，掌握基本计算

#### 第1周：操作系统概述

| 内容 | 学习要点 |
|------|----------|
| OS概念与功能 | 定义、目标、功能 |
| OS发展历程 | 手工→批处理→分时→实时 |
| OS运行机制 | 内核态/用户态、中断/异常、系统调用 |
| OS体系结构 | 大内核、微内核 |

**重点概念**：
- [ ] 操作系统的四大特征（并发、共享、虚拟、异步）
- [ ] 中断与异常的区别
- [ ] 系统调用与库函数的区别
- [ ] 内核态与用户态的切换

#### 第2-4周：进程管理（重点）

| 内容 | 学习要点 |
|------|----------|
| 进程概念 | PCB、进程状态与转换 |
| 进程控制 | 创建、终止、阻塞、唤醒 |
| 进程通信 | 共享存储、消息传递、管道 |
| 线程 | 线程概念、用户级/内核级线程 |
| 处理机调度 | 三级调度、调度算法 |
| 进程同步 | 临界区、信号量、管程 |
| 死锁 | 必要条件、预防、避免、检测、解除 |

**调度算法对比**：

| 算法 | 特点 | 适用场景 |
|------|------|----------|
| FCFS | 先来先服务，非抢占 | 批处理 |
| SJF | 短作业优先，可抢占(SRTN) | 批处理 |
| 优先级 | 可抢占/非抢占 | 通用 |
| RR | 时间片轮转，抢占 | 分时系统 |
| 多级反馈队列 | 综合优点 | 通用 |

**重点计算**：
- [ ] 周转时间 = 完成时间 - 到达时间
- [ ] 带权周转时间 = 周转时间 / 服务时间
- [ ] 平均周转时间、平均带权周转时间

**PV操作经典问题**：
- [ ] 生产者-消费者问题
- [ ] 读者-写者问题
- [ ] 哲学家进餐问题
- [ ] 理发师问题

**死锁公式**：
```
银行家算法：
  Need[i][j] = Max[i][j] - Allocation[i][j]
  安全序列：找到一个进程序列，每个进程的Need都能被满足

死锁检测：
  资源分配图简化，若能完全简化则无死锁
```

#### 第5-6周：内存管理（重点）

| 内容 | 学习要点 |
|------|----------|
| 内存管理概念 | 装入方式、链接方式 |
| 连续分配 | 单一连续、固定分区、动态分区 |
| 非连续分配 | 分页、分段、段页式 |
| 虚拟内存 | 请求分页、页面置换算法 |
| 抖动与工作集 | 概念与处理 |

**地址转换计算**：

```
分页系统：
  逻辑地址 = 页号 × 页大小 + 页内偏移
  物理地址 = 页框号 × 页大小 + 页内偏移
  
  页号 = 逻辑地址 / 页大小
  页内偏移 = 逻辑地址 % 页大小

多级页表：
  页目录号 + 页表号 + 页内偏移
```

**页面置换算法**：

| 算法 | 说明 | 特点 |
|------|------|------|
| OPT | 最佳置换 | 理论最优，不可实现 |
| FIFO | 先进先出 | 可能Belady异常 |
| LRU | 最近最少使用 | 性能好，开销大 |
| CLOCK | 简单时钟 | LRU近似 |
| 改进CLOCK | 考虑修改位 | 更优 |

**重点计算**：
- [ ] 页表项数计算
- [ ] 有效访问时间（考虑TLB）
- [ ] 缺页率计算
- [ ] 各置换算法的缺页次数

#### 第7周：文件管理

| 内容 | 学习要点 |
|------|----------|
| 文件逻辑结构 | 顺序、索引、索引顺序 |
| 目录结构 | 单级、两级、树形、无环图 |
| 文件物理结构 | 连续、链接、索引分配 |
| 文件存储空间管理 | 空闲表、空闲链、位图、成组链接 |
| 文件保护 | 访问控制 |

**磁盘相关计算**：
```
索引文件最大大小 = 直接块 + 一级间接 + 二级间接 + 三级间接
例：直接10块 + 一级1块(256个地址) + 二级1块(256×256)
```

#### 第8周：I/O管理

| 内容 | 学习要点 |
|------|----------|
| I/O控制方式 | 程序直接、中断、DMA、通道 |
| I/O软件层次 | 用户层→设备无关层→驱动→中断处理 |
| 假脱机技术 | SPOOLing原理 |
| 磁盘调度 | FCFS、SSTF、SCAN、C-SCAN、LOOK |
| 磁盘管理 | 格式化、引导块、坏块 |

**磁盘访问时间**：
```
访问时间 = 寻道时间 + 旋转延迟 + 传输时间

旋转延迟（平均）= (1/2) × (60/转速) 秒
传输时间 = 数据量 / 传输速率
```

**磁盘调度算法**：
- [ ] FCFS：按请求顺序
- [ ] SSTF：最短寻道时间优先（可能饥饿）
- [ ] SCAN：电梯算法，双向扫描
- [ ] C-SCAN：单向扫描，回到起点
- [ ] LOOK：不到边界即返回

### 强化阶段（6月 - 8月）

**目标**：专题强化，提高综合能力

#### 专题训练

| 专题 | 核心内容 |
|------|----------|
| 专题1 | 进程调度计算 |
| 专题2 | PV操作综合 |
| 专题3 | 死锁分析与计算 |
| 专题4 | 内存地址计算 |
| 专题5 | 页面置换算法 |
| 专题6 | 文件系统综合 |
| 专题7 | 磁盘调度计算 |

### 冲刺阶段（10月 - 12月）

**目标**：真题训练，稳定得分

OS在408中特点：
- 选择题较多（概念为主）
- 计算题较固定（调度、内存、磁盘）
- PV操作大题（约7-10分）

## 核心知识网络

```
操作系统概述
      ↓
进程管理 ─┬─ 进程/线程概念
          ├─ 调度算法
          ├─ 同步互斥(PV)
          └─ 死锁
      ↓
内存管理 ─┬─ 连续分配
          ├─ 分页/分段
          └─ 虚拟内存
      ↓
文件管理 ─┬─ 目录结构
          └─ 文件分配方式
      ↓
I/O管理 ──┬─ I/O控制方式
          └─ 磁盘调度
```

## 推荐资源

### 教材与讲义

| 资源 | 说明 |
|------|------|
| 汤小丹《计算机操作系统》第四版 | 官方教材 |
| 王道《操作系统考研复习指导》 | 考研必备 |
| 天勤《操作系统高分笔记》 | 补充参考 |

### 视频课程

| 资源 | 说明 |
|------|------|
| 王道操作系统 | 应试导向 |
| 哈工大-李治军 | 原理深入 |
| 清华-向勇 | 学术视角 |

## 学习方法建议

### OS学习特点

1. **概念多**：需要理解而非死记
2. **计算题固定**：多练习典型题型
3. **PV操作难**：需要大量练习
4. **与实际结合**：联系Linux/Windows理解

### PV操作练习建议

```
练习步骤：
1. 分析问题中的同步、互斥关系
2. 确定信号量及其初值
3. 写出PV操作框架
4. 检查是否有死锁风险
```

---

**目标**：操作系统35分，争取拿到28-32分。PV操作是重点难点。
